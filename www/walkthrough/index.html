<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>EcoSIS Tutorial</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the ckan includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>EcoSIS Tutorial</h1>
					<h3>Step by step tutorial for adding datasets to EcoSIS</h3>
					<p>
						<small>PI: <a href="http://forestandwildlifeecology.wisc.edu/townsend-phil-current-faculty-profile">Phil Townsend</a> / <a href="mailto:ptownsend@wisc.edu">ptownsend@wisc.edu</a></small><br />
						<small>Developer: <a href="http://cstars.metro.ucdavis.edu/people/technical-staff/justin-merz/">Justin Merz</a> / <a href="mailto:jrmerz@ucdavis.edu">jrmerz@ucdavis.edu</a></small>
					</p>
				</section>

				<section>
					<h2>Heads Up</h2>
					<p>
						<a href="https://github.com/hakimel/reveal.js" target="_blank" >reveal.js</a> is a framework for easily creating beautiful presentations using HTML (including this one). You'll need a modern browser with
						support for CSS 3D transforms to see it in its full glory.
					</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Create EcoSIS Account</h2>
						<p>
							First your will need to create an account at <a href="http://data.ecosis.org" target="_blank">data.ecosis.org</a> <br />
							Or try the <i>sandbox</i> located at <a href="http://dev-data.ecospectra.org" target="_blank">dev-data.ecospectra.org</a>
						</p>
					</section>
					<section>
						<div>Click 'Register' in the upper right corner</div>
						<img src="ss/create1.png">
						<div>Then fill out the registration form</div>
						<img src="ss/create2.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Login</h2>
						<p>Make sure you are logged in before proceeding</p>
					</section>
					<section>
						<div>To log in click 'Log in' in the upper right hand corner</div>
						<img src="ss/login1.png">
						<div>Then enter your username and password</div>
						<img src="ss/login2.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Create Organization</h2>
						<p>Now we are going to create an organization for you or your lab.</p>
					</section>
					<section>
						<small>To create an Organization, click the 'Organizations' tab.  Then click the '+ Add Organization' button </small>
						<img src="ss/createOrg1.png">
						<small>Now give your organization a name, description and (optionally) set a logo.</small>
						<img src="ss/createOrg2.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Add a Dataset</h2>
						<p>Navigate to your newly created organization by clicking the 'Organizations' tab, then click your organziations card.  You can also search for your organization by name.  Finally, click '+ Add Dataset' to start the EcoSIS dataset editor.</p>
					</section>
					<section>
						<p>Click your organization</p>
						<img src="ss/findOrg.png">
					</section>
					<section>
						<p>Click add '+ Add Dataset'</p>
						<img src="ss/findOrg2.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Basic Information</h2>
						<p>In the dataset editor fill out the preliminary data for your dataset including name, description, as well as standard
							EcoSIS metadata fields.  Make sure your description gives people a brief overview of what this dataset is.</p>
						<p>Then click  the 'Create Dataset' button at the bottom.  Once the dataset is created, click the 'add resources'
							link or the 'Resources' left hand menu item.</p>
					</section>
					<section>
						<img src="ss/addDataset.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Data Formats & Metadata</h2>
						<p>EcoSIS utilizes user-defined schema as well as standard EcoSIS metadata attributes. EcoSIS uses the format
							of <b style="color:orange">your</b> files, with some guidance, to figure out any custom schema
							for your dataset.</p>

					</section>
					<section>
						<p>EcoSIS expects data to be uploaded with each measurement either:</p>

						<ul>
							<li><b style="color:orange">In a single column -</b> where the first column (A) is your attribute name and the
								proceeding columns are the data values, including spectra</b></li>
							<li><b style="color:orange">In a single row -</b> where the first row (1) is your attribute name and the proceeding
								rows are data values, including spectra</b></li>
						</ul>

						<table style="width:100%; text-align:center">
							<tr>
								<td>
									<img src="ss/formatRow.png"><br />
									By Row
								</td>
								<td>
									<img src="ss/formatCol.png"><br />
									By Column
								</td>
							</tr>
						</table>

						<p style="font-size:70%;margin-top:20px;color:#888">Note: wavelengths are still considered to be an attribute name.</p>
					</section>
					<section>
						<p><b>Advanced:</b> You can add <b style="color:orange">additional/optional</b> formatting to your files to specify attribute type (data vs metadata), units and global metadata for a file.</p>

						<ul style="font-size:70%;margin-top:20px">
							<li>At the top of a file columns A and B can be used to define global metadata for the file with Column A being the attribute name and Column B being the attribute value.  This metadata will be applied to every spectra in the file</li>
							<li>After the attribute name, you can add units in <b style="color:orange">()</b>.  Ex: Steam Biomas <b style="color:orange">(tha)</b></li>
							<li>Adding the <b style="color:orange">__d</b> postfix to your attribute name will tell the parser the attribute should be considered as data.  Ex: NDVI<b style="color:orange">__d</b></li>
						</ul>

						<img src="ss/formatSpecial.png">
					</section>

					<section>
						<p>Finally, regardless of any formatting, only assign <b style="color:orange">numeric</b> attribute names to wavelengths. Data following
							any attribute name that is numeric will always be considered <b style="color:orange">spectral data</b>.</p>

						<img src="ss/formatWavelength.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Add Resource Files</h2>
						<p>Select which format your files will be provided in (By Column or By Row).  Then select the files you wish to
							upload by clicking the file selector next to 'Select File' or by dragging and dropping the files over the
							'Drop files here' box.</p>
						<p>Sample spectra and metadata files can be downloaded by clicking <a href="/demo_data.csv">here</a> and
							<a href="/demo_metadata.csv">here</a> (recommended).
					</section>
					<section>
						<img src="ss/upload.png">
					</section>
				</section>

				<section>
					<section>
						<h2>Configure Datasheets</h2>
						<p>After the files have finished uploaded and being parsed by the EcoSIS you can click <b style="color:orange">Resources</b> ->
							<b style="color:orange">Current Resources</b>.  Here
							you can see how the importer interpreted your files.</p>

						<p style="margin-top:20px">It's very important to look over your files and make sure everything is correct. Pay special
							attention to joinable metadata files as you will always need to mark these files and define how the metadata is to
							be joined with the rest of your data.</p>
					</section>
					<section>
						<h4>Configure Joinable Metadata</h4>
						<p>To edit datasheets, click the 'Pencil' icon then click the 'Joinable Metadata' checkbox.</p>

						<table style="width:100%; text-align:center">
							<tr>
								<td style="vertical-align: top">
									<div>
										<img src="ss/inspect1.png"><br />
										Before configuration
									</div>
									<div>
										<img src="ss/inspect1_5.png"><br />
										After configuration
									</div>
								</td>
								<td>
									<img src="ss/inspect2.png"><br />
									Configure Metadata
								</td>
							</tr>
						</table>
					</section>

					<section>
						<p>Metadata can be joined by</p>
						<ul>
							<li><b style="color:orange">Attribute Name:</b> Using 'Join On' select the attribute that should be used as a unique id to join the metadata with the data.</li>
							<li><b style="color:orange">Filename:</b> If you have one spectrum per file you can match the selected attribute to a filename.  The 'exact match' option lets specify if the filename should be loosely matched or exactly matched to the attribute value.</li>
							<li><b style="color:orange">Sheetname:</b> Similar to filename, but lets you match the selected attribute to a sheetname inside a excel file.</li>
						</ul>
					</section>

					<section>
						<p>Inspect your datasheets to make sure they have been interpreted correctly.  You can click the <b style="color:orange">Pencil</b> icon then click
							<b style="color:orange">View Spectra</b>.  You will be able to visibly inspect each spectra parsed in the file.</p>
						<img src="ss/inspect3.png">
					</section>

					<section>
						<p>Datasheet Types.  Currently the following file extensions will be parsed as datasheets.</p>
						<ul>
							<li>.xls</li>
							<li>.xlsx</li>
							<li>.csv</li>
							<li>.tsv (Tab Separated Value)</li>
							<li>.spectra (parsed as .tsv)</li>
							<li>.zip<span style="color:orange">*</span></li>
						</ul>
						<p><span style="color:orange">*</span>Zip files will be extracted on the server.  Any files contained within the zip file that have a
							datasheet extension will be parsed.</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Advanced Settings</h2>
						<p>There are two advanced operations that can be performed under the <b style="color:orange">Advanced</b> tab. You can map attribute names for your dataset
							 to standard EcoSIS metadata names. You can also add a ordering to you dataset.</p>

					</section>

					<section>
						<h4>Map Names</h4>
						<p>Since the dataset schema is defined by the user, there are no restrictions on the names of the attributes in your dataset.
							That said, it's strongly encouraged that you use the EcoSIS standard names as well as the associated controlled vocabulary, if available.
							If you would like you can provide a mapping of your attribute names to the EcoSIS name.  This way your data does not have to
							be directly modified but EcoSIS still understands your attributes.  To do this, you download the mapping (text) file, then
							upload for your dataset.  Note: this file can be reused for each one of your datasets.
					</section>

					<section>
						<img src="ss/schema4.png" />
					</section>

					<section>
						<h4>Dataset Ordering</h4>
						<p>In the dataset section you can specify special attributes that further describe your dataset.  Specifically, if your
							dataset has ordering (ex: the dataset is a timeseries) you can provide the field that should be sorted on as well as how
							that field should be interpreted. </p>
					</section>



				</section>


				<section>
					<section>
						<h2>Push to Search</h2>
						<p>At this point, everything we have done has been saved on the data management server but none of the changes have been pushed to Search,
							the primary interface for users to find your data.  Click the <b style="color:orange">Push to Search</b> tab to start the push.</p>

						<img src="ss/upload1.png" />
					</section>

					<section>
						<p>Review your dataset, then click <b style="color:orange">Push</b> to start the process.  A minimum of 3 EcoSIS metadata attributes are
							required to push your dataset.  Once the dataset is queued, you will receive a success notice but the dataset has not be pushed yet.
							The push process can take some time and you will be emailed when your dataset is successfully added to search.</p>
					</section>

					<section>
						<img src="ss/upload2.png" />
					</section>

				</section>

				<section>
					<section>
						<h2>Done :)</h2>
						<p>You will be redirect to your datasets landing page on the main EcoSIS site.</p>

						<img src="ss/done.png" />
					</section>

					<section>
						<img src="ss/happy-cat.gif" />
					</section>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
